# Version: 1.2.1
# Purpose: Production deployment secrets template for evi (SECRET values).
# Deployment file: evi.secrets.template.env
# Logic: User edits this file locally; install.sh (deploy) reads it and creates Podman secrets. Do NOT commit real secrets.
#
# Changes in v1.2.1:
# - Added EVI_ADMIN_DB_USERNAME for configurable admin username (default: evidba)
# - Reorganized admin account section for clarity
#
# Changes in v1.2.0:
# - Updated TLS certificate paths documentation
# - Added auto-detection info for deployment/env/tls/ directory
#
# Changes in v1.1.1:
# - Added warning to disable Option C if using A or B.
#
# Changes in v1.1.0:
# - Blank passwords by default for auto-generation support
# - Detailed instructions for JWT and TLS
# - Improved comments for "Advanced" and "Simple" users
#

# =========================
# Database secret(s)
# =========================

# PostgreSQL superuser password (postgres)
# Type your own secure password to be used for the 'postgres' superuser, 
# or leave blank for auto-generation of the password during installation.
EVI_POSTGRES_PASSWORD=

# =========================
# Database admin account (human access via pgAdmin or CLI)
# =========================

# Admin username (default: evidba). Can be changed to any preferred name.
EVI_ADMIN_DB_USERNAME=evidba

# Admin password (auto-generated if empty, or set your own)
EVI_ADMIN_DB_PASSWORD=

# =========================
# Application service account
# =========================

# Application DB password for app user (app_service).
# Required for backend connectivity.
# Type your own secure password, or leave blank for auto-generation.
EVI_APP_DB_PASSWORD=

# =========================
# JWT signing key (RS256)
# =========================

# The application needs a private RSA key to sign JWT tokens.
# Please choose ONLY ONE of the following options (A, B, or C).

# Option A: Path to an existing PEM file
# If you have a key file (e.g. 'private.pem'), place it in 'deployment/env/' or provide an absolute path.
# IMPORTANT: If you use this option, set EVI_JWT_GENERATE_KEY=false below.
# Example: EVI_JWT_PRIVATE_KEY_PEM_PATH=env/private.pem
EVI_JWT_PRIVATE_KEY_PEM_PATH=

# Option B: Inline PEM content
# If you want to paste the key content directly here.
# Replace 'replace-with-your-pem' with the full multiline string of your private key.
# IMPORTANT: If you use this option, set EVI_JWT_GENERATE_KEY=false below.
# WARNING: do not store this file in git if you use this option.
EVI_JWT_PRIVATE_KEY_PEM_INLINE=

# Option C: Auto-generate key (Default)
# If A and B are empty, the installer will automatically generate a new 4096-bit RSA key pair (RS256).
# Set to 'true' to enable this behavior. 
# Set to 'false' if you provided a key in Option A or B.
EVI_JWT_GENERATE_KEY=true

# =========================
# TLS certificate (manual mode only)
# =========================

# Required if you set EVI_TLS_MODE=manual in evi.env.
#
# AUTO-DETECTION: If you leave these empty and place certificates in:
#   deployment/env/tls/cert.pem
#   deployment/env/tls/key.pem
# They will be auto-detected by install.sh (deploy).
#
# RECOMMENDED: Use install.sh -> TLS Certificates menu to generate certificates.
# This will automatically:
#   1. Generate proper certificates with SAN for your domain/IP
#   2. Place them in deployment/env/tls/
#   3. Update these paths automatically
#
# For custom certificates, provide paths below (absolute or relative to deployment/env/).

# Path to the Certificate file (PEM format)
# Leave empty for auto-detection from deployment/env/tls/cert.pem
EVI_TLS_CERT_PATH=

# Path to the Private Key file (PEM format)
# Leave empty for auto-detection from deployment/env/tls/key.pem
EVI_TLS_KEY_PATH=
