<!DOCTYPE html>
<!-- Version: 1.5.0 -->
<!-- Cockpit package: opens pgAdmin in a new tab (same host, port 5445). Shows login hint; no credentials on page. -->
<!-- Cockpit package; filename: index.html -->
<!--
  Changes in v1.5.0:
  - Replaced ../base1/patternfly.css with self-contained evi-pgadmin.css (base1 CSS not available in all Cockpit versions)
  - Theme sync via computed background color from parent shell (version-agnostic)
  - Custom CSS classes instead of pf-v5-* classes
  Changes in v1.4.0:
  - Renamed label from "pgAdmin (evi)" to "evi pgAdmin" for consistent "evi" prefix grouping
  Changes in v1.3.0:
  - PatternFly CSS from base1; page layout and theme sync with Cockpit (day/night)
  - Open pgAdmin as PatternFly primary button; popup-blocked hint with instructions
  Changes in v1.2.0:
  - Moved script to external evi-pgadmin.js so Cockpit CSP allows execution (inline scripts blocked)
  - Fallback link href is set by external script to http://hostname:5445
  Changes in v1.1.0:
  - Open pgAdmin in new tab via window.open(..., _blank) instead of redirect in frame
  - Fallback link if popup is blocked
  - Login hint in English: evidba@pgadmin.app, password from EVI_ADMIN_DB_PASSWORD (Podman evi-db integration tab)
-->
<html>
<head>
  <meta charset="utf-8">
  <title>evi pgAdmin</title>
  <link rel="stylesheet" href="evi-pgadmin.css" type="text/css">
</head>
<body>
  <div class="evi-page">
    <h2>evi pgAdmin</h2>

    <div id="popup-blocked-hint" class="evi-alert-info" hidden>
      <h4>Pop-up blocked by browser</h4>
      <p>Your browser blocked the automatic tab opening. To allow it permanently for Cockpit:</p>
      <ol>
        <li>Click the blocked pop-up icon in the address bar (or check browser notifications).</li>
        <li>Select "Always allow pop-ups from this site".</li>
        <li>Next time pgAdmin will open automatically.</li>
      </ol>
    </div>

    <p>
      <a id="pgadmin-link" class="evi-btn-primary" href="#" target="_blank" rel="noopener noreferrer">Open pgAdmin</a>
    </p>

    <div class="evi-credentials">
      <p><strong>Login:</strong> evidba@pgadmin.app</p>
      <p><strong>Password:</strong> use EVI_ADMIN_DB_PASSWORD variable from Podman containers &rarr; evi-db &rarr; Integration tab.</p>
    </div>
  </div>
  <script src="evi-pgadmin.js"></script>
</body>
</html>
